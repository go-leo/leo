// Code generated by protoc-gen-go-grpc. DO NOT EDIT.

package demo

import (
	bytes "bytes"
	context "context"
	errors "errors"
	fmt "fmt"
	endpoint "github.com/go-kit/kit/endpoint"
	http1 "github.com/go-kit/kit/transport/http"
	endpointx "github.com/go-leo/leo/v3/endpointx"
	mux "github.com/gorilla/mux"
	httpbody "google.golang.org/genproto/googleapis/api/httpbody"
	http "google.golang.org/genproto/googleapis/rpc/http"
	protojson "google.golang.org/protobuf/encoding/protojson"
	emptypb "google.golang.org/protobuf/types/known/emptypb"
	io "io"
	http2 "net/http"
	strconv "strconv"
	strings "strings"
)

type httpDemoServiceClient struct {
	createUser       endpoint.Endpoint
	updateUser       endpoint.Endpoint
	getUser          endpoint.Endpoint
	getUsers         endpoint.Endpoint
	deleteUser       endpoint.Endpoint
	updateUserName   endpoint.Endpoint
	uploadUsers      endpoint.Endpoint
	uploadUserAvatar endpoint.Endpoint
	pushUsers        endpoint.Endpoint
	pushUserAvatar   endpoint.Endpoint
	modifyUser       endpoint.Endpoint
}

func (c *httpDemoServiceClient) CreateUser(ctx context.Context, request *CreateUserRequest) (*emptypb.Empty, error) {
	rep, err := c.createUser(ctx, request)
	if err != nil {
		return nil, err
	}
	return rep.(*emptypb.Empty), nil
}

func (c *httpDemoServiceClient) UpdateUser(ctx context.Context, request *UpdateUserRequest) (*emptypb.Empty, error) {
	rep, err := c.updateUser(ctx, request)
	if err != nil {
		return nil, err
	}
	return rep.(*emptypb.Empty), nil
}

func (c *httpDemoServiceClient) GetUser(ctx context.Context, request *GetUserRequest) (*GetUserResponse, error) {
	rep, err := c.getUser(ctx, request)
	if err != nil {
		return nil, err
	}
	return rep.(*GetUserResponse), nil
}

func (c *httpDemoServiceClient) GetUsers(ctx context.Context, request *GetUsersRequest) (*GetUsersResponse, error) {
	rep, err := c.getUsers(ctx, request)
	if err != nil {
		return nil, err
	}
	return rep.(*GetUsersResponse), nil
}

func (c *httpDemoServiceClient) DeleteUser(ctx context.Context, request *DeleteUsersRequest) (*emptypb.Empty, error) {
	rep, err := c.deleteUser(ctx, request)
	if err != nil {
		return nil, err
	}
	return rep.(*emptypb.Empty), nil
}

func (c *httpDemoServiceClient) UpdateUserName(ctx context.Context, request *UpdateUserNameRequest) (*emptypb.Empty, error) {
	rep, err := c.updateUserName(ctx, request)
	if err != nil {
		return nil, err
	}
	return rep.(*emptypb.Empty), nil
}

func (c *httpDemoServiceClient) UploadUsers(ctx context.Context, request *httpbody.HttpBody) (*httpbody.HttpBody, error) {
	rep, err := c.uploadUsers(ctx, request)
	if err != nil {
		return nil, err
	}
	return rep.(*httpbody.HttpBody), nil
}

func (c *httpDemoServiceClient) UploadUserAvatar(ctx context.Context, request *UploadUserAvatarRequest) (*UploadUserAvatarResponse, error) {
	rep, err := c.uploadUserAvatar(ctx, request)
	if err != nil {
		return nil, err
	}
	return rep.(*UploadUserAvatarResponse), nil
}

func (c *httpDemoServiceClient) PushUsers(ctx context.Context, request *http.HttpRequest) (*http.HttpResponse, error) {
	rep, err := c.pushUsers(ctx, request)
	if err != nil {
		return nil, err
	}
	return rep.(*http.HttpResponse), nil
}

func (c *httpDemoServiceClient) PushUserAvatar(ctx context.Context, request *PushUserAvatarRequest) (*PushUserAvatarResponse, error) {
	rep, err := c.pushUserAvatar(ctx, request)
	if err != nil {
		return nil, err
	}
	return rep.(*PushUserAvatarResponse), nil
}

func (c *httpDemoServiceClient) ModifyUser(ctx context.Context, request *ModifyUserRequest) (*emptypb.Empty, error) {
	rep, err := c.modifyUser(ctx, request)
	if err != nil {
		return nil, err
	}
	return rep.(*emptypb.Empty), nil
}

func NewDemoServiceHTTPClient(
	instance string,
	mdw []endpoint.Middleware,
	opts ...http1.ClientOption,
) interface {
	CreateUser(ctx context.Context, request *CreateUserRequest) (*emptypb.Empty, error)
	UpdateUser(ctx context.Context, request *UpdateUserRequest) (*emptypb.Empty, error)
	GetUser(ctx context.Context, request *GetUserRequest) (*GetUserResponse, error)
	GetUsers(ctx context.Context, request *GetUsersRequest) (*GetUsersResponse, error)
	DeleteUser(ctx context.Context, request *DeleteUsersRequest) (*emptypb.Empty, error)
	UpdateUserName(ctx context.Context, request *UpdateUserNameRequest) (*emptypb.Empty, error)
	UploadUsers(ctx context.Context, request *httpbody.HttpBody) (*httpbody.HttpBody, error)
	UploadUserAvatar(ctx context.Context, request *UploadUserAvatarRequest) (*UploadUserAvatarResponse, error)
	PushUsers(ctx context.Context, request *http.HttpRequest) (*http.HttpResponse, error)
	PushUserAvatar(ctx context.Context, request *PushUserAvatarRequest) (*PushUserAvatarResponse, error)
	ModifyUser(ctx context.Context, request *ModifyUserRequest) (*emptypb.Empty, error)
} {
	router := mux.NewRouter()
	router.NewRoute().
		Name("/leo.example.demo.v1.DemoService/CreateUser").
		Methods("POST").
		Path("/v1/user")
	router.NewRoute().
		Name("/leo.example.demo.v1.DemoService/UpdateUser").
		Methods("POST").
		Path("/v1/user/{user_id}")
	router.NewRoute().
		Name("/leo.example.demo.v1.DemoService/GetUser").
		Methods("GET").
		Path("/v1/user/{user_id}")
	router.NewRoute().
		Name("/leo.example.demo.v1.DemoService/GetUsers").
		Methods("GET").
		Path("/v1/users")
	router.NewRoute().
		Name("/leo.example.demo.v1.DemoService/DeleteUser").
		Methods("DELETE").
		Path("/v1/user/{user_id}")
	router.NewRoute().
		Name("/leo.example.demo.v1.DemoService/UpdateUserName").
		Methods("POST").
		Path("/v1/user/{user_id}")
	router.NewRoute().
		Name("/leo.example.demo.v1.DemoService/UploadUsers").
		Methods("POST").
		Path("/v1/users")
	router.NewRoute().
		Name("/leo.example.demo.v1.DemoService/UploadUserAvatar").
		Methods("POST").
		Path("/v1/user/{user_id}")
	router.NewRoute().
		Name("/leo.example.demo.v1.DemoService/PushUsers").
		Methods("POST").
		Path("/v1/users/push")
	router.NewRoute().
		Name("/leo.example.demo.v1.DemoService/PushUserAvatar").
		Methods("POST").
		Path("/v1/user{user_id}/push")
	router.NewRoute().
		Name("/leo.example.demo.v1.DemoService/ModifyUser").
		Methods("PUT").
		Path("/v1/user/{user_id}")
	return &httpDemoServiceClient{
		createUser: endpointx.Chain(
			http1.NewExplicitClient(
				func(ctx context.Context, obj interface{}) (*http2.Request, error) {
					req, ok := obj.(*CreateUserRequest)
					if !ok {
						return nil, fmt.Errorf("invalid request object type, %T", obj)
					}
					if req == nil {
						return nil, errors.New("request object is nil")
					}
					var method = "POST"
					var url string
					var body io.Reader
					if req != nil {
						data, err := protojson.Marshal(req)
						if err != nil {
							return nil, err
						}
						body = bytes.NewBuffer(data)
					}
					var pairs []string
					path, err := router.Get("/leo.example.demo.v1.DemoService/CreateUser").URLPath(pairs...)
					if err != nil {
						return nil, err
					}
					url = fmt.Sprintf("%s://%s%s", "http", instance, path)
					r, err := http2.NewRequestWithContext(ctx, method, url, body)
					if err != nil {
						return nil, err
					}
					return r, nil
				},
				func(ctx context.Context, r *http2.Response) (interface{}, error) {
					return nil, nil
				},
				opts...,
			).Endpoint(),
			mdw...),
		updateUser: endpointx.Chain(
			http1.NewExplicitClient(
				func(ctx context.Context, obj interface{}) (*http2.Request, error) {
					req, ok := obj.(*UpdateUserRequest)
					if !ok {
						return nil, fmt.Errorf("invalid request object type, %T", obj)
					}
					if req == nil {
						return nil, errors.New("request object is nil")
					}
					var method = "POST"
					var url string
					var body io.Reader
					if req != nil {
						data, err := protojson.Marshal(req)
						if err != nil {
							return nil, err
						}
						body = bytes.NewBuffer(data)
					}
					var pairs []string
					pairs = append(pairs, "user_id", strconv.FormatUint(req.UserId, 10))
					path, err := router.Get("/leo.example.demo.v1.DemoService/UpdateUser").URLPath(pairs...)
					if err != nil {
						return nil, err
					}
					url = fmt.Sprintf("%s://%s%s", "http", instance, path)
					r, err := http2.NewRequestWithContext(ctx, method, url, body)
					if err != nil {
						return nil, err
					}
					return r, nil
				},
				func(ctx context.Context, r *http2.Response) (interface{}, error) {
					return nil, nil
				},
				opts...,
			).Endpoint(),
			mdw...),
		getUser: endpointx.Chain(
			http1.NewExplicitClient(
				func(ctx context.Context, obj interface{}) (*http2.Request, error) {
					req, ok := obj.(*GetUserRequest)
					if !ok {
						return nil, fmt.Errorf("invalid request object type, %T", obj)
					}
					if req == nil {
						return nil, errors.New("request object is nil")
					}
					var method = "GET"
					var url string
					var body io.Reader
					var pairs []string
					pairs = append(pairs, "user_id", strconv.FormatUint(req.UserId, 10))
					path, err := router.Get("/leo.example.demo.v1.DemoService/GetUser").URLPath(pairs...)
					if err != nil {
						return nil, err
					}
					url = fmt.Sprintf("%s://%s%s", "http", instance, path)
					r, err := http2.NewRequestWithContext(ctx, method, url, body)
					if err != nil {
						return nil, err
					}
					return r, nil
				},
				func(ctx context.Context, r *http2.Response) (interface{}, error) {
					return nil, nil
				},
				opts...,
			).Endpoint(),
			mdw...),
		getUsers: endpointx.Chain(
			http1.NewExplicitClient(
				func(ctx context.Context, obj interface{}) (*http2.Request, error) {
					req, ok := obj.(*GetUsersRequest)
					if !ok {
						return nil, fmt.Errorf("invalid request object type, %T", obj)
					}
					if req == nil {
						return nil, errors.New("request object is nil")
					}
					var method = "GET"
					var url string
					var body io.Reader
					var pairs []string
					path, err := router.Get("/leo.example.demo.v1.DemoService/GetUsers").URLPath(pairs...)
					if err != nil {
						return nil, err
					}
					url = fmt.Sprintf("%s://%s%s", "http", instance, path)
					r, err := http2.NewRequestWithContext(ctx, method, url, body)
					if err != nil {
						return nil, err
					}
					return r, nil
				},
				func(ctx context.Context, r *http2.Response) (interface{}, error) {
					return nil, nil
				},
				opts...,
			).Endpoint(),
			mdw...),
		deleteUser: endpointx.Chain(
			http1.NewExplicitClient(
				func(ctx context.Context, obj interface{}) (*http2.Request, error) {
					req, ok := obj.(*DeleteUsersRequest)
					if !ok {
						return nil, fmt.Errorf("invalid request object type, %T", obj)
					}
					if req == nil {
						return nil, errors.New("request object is nil")
					}
					var method = "DELETE"
					var url string
					var body io.Reader
					var pairs []string
					pairs = append(pairs, "user_id", strconv.FormatUint(req.UserId, 10))
					path, err := router.Get("/leo.example.demo.v1.DemoService/DeleteUser").URLPath(pairs...)
					if err != nil {
						return nil, err
					}
					url = fmt.Sprintf("%s://%s%s", "http", instance, path)
					r, err := http2.NewRequestWithContext(ctx, method, url, body)
					if err != nil {
						return nil, err
					}
					return r, nil
				},
				func(ctx context.Context, r *http2.Response) (interface{}, error) {
					return nil, nil
				},
				opts...,
			).Endpoint(),
			mdw...),
		updateUserName: endpointx.Chain(
			http1.NewExplicitClient(
				func(ctx context.Context, obj interface{}) (*http2.Request, error) {
					req, ok := obj.(*UpdateUserNameRequest)
					if !ok {
						return nil, fmt.Errorf("invalid request object type, %T", obj)
					}
					if req == nil {
						return nil, errors.New("request object is nil")
					}
					var method = "POST"
					var url string
					var body io.Reader
					body = strings.NewReader(req.Name)
					var pairs []string
					pairs = append(pairs, "user_id", strconv.FormatUint(req.UserId, 10))
					path, err := router.Get("/leo.example.demo.v1.DemoService/UpdateUserName").URLPath(pairs...)
					if err != nil {
						return nil, err
					}
					url = fmt.Sprintf("%s://%s%s", "http", instance, path)
					r, err := http2.NewRequestWithContext(ctx, method, url, body)
					if err != nil {
						return nil, err
					}
					return r, nil
				},
				func(ctx context.Context, r *http2.Response) (interface{}, error) {
					return nil, nil
				},
				opts...,
			).Endpoint(),
			mdw...),
		uploadUsers: endpointx.Chain(
			http1.NewExplicitClient(
				func(ctx context.Context, obj interface{}) (*http2.Request, error) {
					req, ok := obj.(*httpbody.HttpBody)
					if !ok {
						return nil, fmt.Errorf("invalid request object type, %T", obj)
					}
					if req == nil {
						return nil, errors.New("request object is nil")
					}
					var method = "POST"
					var url string
					var body io.Reader
					if req != nil {
						body = bytes.NewReader(req.Data)
					}
					var pairs []string
					path, err := router.Get("/leo.example.demo.v1.DemoService/UploadUsers").URLPath(pairs...)
					if err != nil {
						return nil, err
					}
					url = fmt.Sprintf("%s://%s%s", "http", instance, path)
					r, err := http2.NewRequestWithContext(ctx, method, url, body)
					if err != nil {
						return nil, err
					}
					return r, nil
				},
				func(ctx context.Context, r *http2.Response) (interface{}, error) {
					return nil, nil
				},
				opts...,
			).Endpoint(),
			mdw...),
		uploadUserAvatar: endpointx.Chain(
			http1.NewExplicitClient(
				func(ctx context.Context, obj interface{}) (*http2.Request, error) {
					req, ok := obj.(*UploadUserAvatarRequest)
					if !ok {
						return nil, fmt.Errorf("invalid request object type, %T", obj)
					}
					if req == nil {
						return nil, errors.New("request object is nil")
					}
					var method = "POST"
					var url string
					var body io.Reader
					if req.Avatar != nil {
						body = bytes.NewReader(req.Avatar.Data)
					}
					var pairs []string
					pairs = append(pairs, "user_id", strconv.FormatUint(req.UserId, 10))
					path, err := router.Get("/leo.example.demo.v1.DemoService/UploadUserAvatar").URLPath(pairs...)
					if err != nil {
						return nil, err
					}
					url = fmt.Sprintf("%s://%s%s", "http", instance, path)
					r, err := http2.NewRequestWithContext(ctx, method, url, body)
					if err != nil {
						return nil, err
					}
					return r, nil
				},
				func(ctx context.Context, r *http2.Response) (interface{}, error) {
					return nil, nil
				},
				opts...,
			).Endpoint(),
			mdw...),
		pushUsers: endpointx.Chain(
			http1.NewExplicitClient(
				func(ctx context.Context, obj interface{}) (*http2.Request, error) {
					req, ok := obj.(*http.HttpRequest)
					if !ok {
						return nil, fmt.Errorf("invalid request object type, %T", obj)
					}
					if req == nil {
						return nil, errors.New("request object is nil")
					}
					var method = "POST"
					var url string
					var body io.Reader
					if req != nil {
						body = bytes.NewReader(req.Body)
					}
					var pairs []string
					path, err := router.Get("/leo.example.demo.v1.DemoService/PushUsers").URLPath(pairs...)
					if err != nil {
						return nil, err
					}
					url = fmt.Sprintf("%s://%s%s", "http", instance, path)
					r, err := http2.NewRequestWithContext(ctx, method, url, body)
					if err != nil {
						return nil, err
					}
					return r, nil
				},
				func(ctx context.Context, r *http2.Response) (interface{}, error) {
					return nil, nil
				},
				opts...,
			).Endpoint(),
			mdw...),
		pushUserAvatar: endpointx.Chain(
			http1.NewExplicitClient(
				func(ctx context.Context, obj interface{}) (*http2.Request, error) {
					req, ok := obj.(*PushUserAvatarRequest)
					if !ok {
						return nil, fmt.Errorf("invalid request object type, %T", obj)
					}
					if req == nil {
						return nil, errors.New("request object is nil")
					}
					var method = "POST"
					var url string
					var body io.Reader
					if req.Avatar != nil {
						body = bytes.NewReader(req.Avatar.Body)
					}
					var pairs []string
					pairs = append(pairs, "user_id", strconv.FormatUint(req.UserId, 10))
					path, err := router.Get("/leo.example.demo.v1.DemoService/PushUserAvatar").URLPath(pairs...)
					if err != nil {
						return nil, err
					}
					url = fmt.Sprintf("%s://%s%s", "http", instance, path)
					r, err := http2.NewRequestWithContext(ctx, method, url, body)
					if err != nil {
						return nil, err
					}
					return r, nil
				},
				func(ctx context.Context, r *http2.Response) (interface{}, error) {
					return nil, nil
				},
				opts...,
			).Endpoint(),
			mdw...),
		modifyUser: endpointx.Chain(
			http1.NewExplicitClient(
				func(ctx context.Context, obj interface{}) (*http2.Request, error) {
					req, ok := obj.(*ModifyUserRequest)
					if !ok {
						return nil, fmt.Errorf("invalid request object type, %T", obj)
					}
					if req == nil {
						return nil, errors.New("request object is nil")
					}
					var method = "PUT"
					var url string
					var body io.Reader
					if req.OptInt32 != nil {
						body = strings.NewReader(strconv.FormatInt(int64(*req.OptInt32), 10))
					}
					var pairs []string
					pairs = append(pairs, "user_id", strconv.FormatUint(req.UserId, 10))
					path, err := router.Get("/leo.example.demo.v1.DemoService/ModifyUser").URLPath(pairs...)
					if err != nil {
						return nil, err
					}
					url = fmt.Sprintf("%s://%s%s", "http", instance, path)
					r, err := http2.NewRequestWithContext(ctx, method, url, body)
					if err != nil {
						return nil, err
					}
					return r, nil
				},
				func(ctx context.Context, r *http2.Response) (interface{}, error) {
					return nil, nil
				},
				opts...,
			).Endpoint(),
			mdw...),
	}
}
